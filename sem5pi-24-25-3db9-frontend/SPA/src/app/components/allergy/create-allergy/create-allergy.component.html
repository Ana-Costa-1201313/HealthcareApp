<p-dialog
  header="Allergy"
  [visible]="showCreate"
  (visibleChange)="showCreateChange.emit($event)"
  [modal]="true"
  [style]="{ width: '50vw' }"
  [draggable]="false"
  [resizable]="false"
>
  <ng-template pTemplate="header">
    <h4 class="fw-bold">Create Allergy</h4>
  </ng-template>
  <div>Fields marked * are required</div>

  <form [formGroup]="createAllergyForm" (ngSubmit)="addAllergy()">
    <span class="p-float-label mt-4">
      <input pInputText formControlName="name" autoWidth="false" id="name" />
      <label for="name">Name *</label>
    </span>
    <p-message
      *ngIf="
        createAllergyForm.get('name')?.dirty &&
        createAllergyForm.get('name')?.hasError('required')
      "
      severity="error"
      text="Field is required"
    ></p-message>

    <span class="p-float-label mt-4">
      <input pInputText formControlName="code" autoWidth="false" id="code" />
      <label for="code">Code *</label>
    </span>
    <p-message
      *ngIf="
        createAllergyForm.get('code')?.dirty &&
        createAllergyForm.get('code')?.hasError('required')
      "
      severity="error"
      text="Field is required"
    ></p-message>

    <span class="p-float-label mt-4">
      <input
        pInputText
        formControlName="description"
        autoWidth="false"
        id="description"
      />
      <label for="description">Description</label>
    </span>

    <p-button
      class="mt-4 d-block"
      type="Submit"
      label="Submit"
      [disabled]="createAllergyForm.invalid"
      id="buttonSubmit"
    /></form
></p-dialog>
